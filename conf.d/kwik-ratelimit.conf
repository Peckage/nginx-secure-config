# =============================================================================
# Kwik.gg - Rate Limiting Zones
# Drop this into /etc/nginx/conf.d/kwikzip-ratelimit.conf
# =============================================================================

# Rate Limiting Zones for Kwik.gg
# These zones are referenced by the site config

# General page requests - generous for normal browsing
limit_req_zone $binary_remote_addr zone=kwikzip_general:10m rate=50r/s;

# Login/sensitive endpoints - stricter
limit_req_zone $binary_remote_addr zone=kwikzip_login:10m rate=20r/m;

# API endpoints - very generous for chunked uploads/downloads
limit_req_zone $binary_remote_addr zone=kwikzip_api:20m rate=1000r/s;

# Connection limiting per IP
limit_conn_zone $binary_remote_addr zone=kwikzip_conn:20m;
